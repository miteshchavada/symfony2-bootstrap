{% extends '::base.html.twig' %}
{% block body %}
{% block content %}
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Edit Product</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
            <div class="row">
                <center>
                    <form action="{{ path('edit', {'id': id } ) }}" method="post" id="form" enctype="multipart/form-data" name="form" class="form-group" novalidate="novalidate">
{#                        {{ form_widget(form) }}  #}
                        {% if not form.vars.valid %}
                        <div class="alert alert-danger">    
                                {{ form_errors(form.category)}}
				{{ form_errors(form.name)}}
				{{ form_errors(form.price) }}
				{{ form_errors(form.description) }}
                                {{ form_errors(form.image) }}
                        </div>
                        {% endif %}
                        <div class="form-group col-lg-12">
                        {{ form_label(form.category, 'Category: ', {'label_attr': {'class': 'control-label col-sm-2'} }) }}
                        <div class="col-sm-10">
                            {{ form_widget(form.category, { 'attr': {'class': 'form-control','placeholder': 'Category Name'} }) }}  
                        </div>
                    </div>
                        <div class="form-group col-lg-12">
                            {{ form_label(form.name, 'Name: ', {'label_attr': {'class': 'control-label col-sm-2'} }) }}
                            <div class="col-sm-10">
                              {{ form_widget(form.name, { 'attr': {'class': 'form-control','placeholder': 'Product Name','value' : product.name } }) }}  
                            </div>
                        </div>
                        <div class="form-group col-lg-12">
                            {{ form_label(form.price, 'Price: ', {'label_attr': {'class': 'control-label col-sm-2'} }) }}
                            <div class="col-sm-10">
                            {{ form_widget(form.price, { 'attr': {'class': 'form-control','placeholder': 'Price','value' : product.price } }) }}
                            </div>
                        </div>
                        <div class="form-group col-lg-12">
                            {{ form_label(form.description, 'Description: ', {'label_attr': {'class': 'control-label col-sm-2' } }) }}
                            <div class="col-sm-10">
                            {{ form_widget(form.description,{ 'value' : product.description ,'attr': {'class': 'form-control' } }) }}
                            </div>
                        </div>
                        <div class="form-group col-lg-12">
                            {{ form_label(form.image, 'File: ', {'label_attr': {'class': 'control-label col-sm-2'}}) }}
                            <div class="col-sm-2">
                                {{ form_widget(form.image, { 'attr': {'class': 'btn btn-default btn-file' } }) }}
                            </div>
                        </div>
                        <div class="form-group col-lg-11">
                            {{ form_label(form.image, 'Image: ', {'label_attr': {'class': 'control-label col-sm-2'}}) }}
                            <div class="col-sm-2">
                            <img src="{{asset(['uploads/products/',id,'/',image]|join)}}" style="width:80px; height: 50px;"/>
                            </div>
                        </div>    
                        <div class="form-group col-lg-12">
                            <div class="control-label col-sm-2"></div>
                            <div class="col-sm-2">
                            <input type="submit" name="edit" value="Save" class="btn btn-primary">
                            <input type="reset" name="Reset" value="Reset" class="btn btn-danger" onclick="javascript:window.location.href='{{ path('acme_store')}}'"/>
                            </div>
                        </div>
                    </form>
		</center>
		</div>
{% endblock %}
{% endblock %}

